{
  "id": "checkout-order-review",
  "name": "Order Review & Confirmation",
  "category": "checkout",
  "version": "1.0.0",
  "description": "Final order review displaying all checkout information including items, shipping address, payment method, and pricing summary. Used before final purchase confirmation.",
  "tags": ["checkout", "review", "confirmation", "summary", "final-step"],
  "previewImage": "/previews/order-review.jpg",
  "schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "required": ["heading", "items", "shippingAddress", "paymentMethod", "total"],
    "properties": {
      "heading": {"type": "string", "maxLength": 100},
      "items": {
        "type": "array",
        "description": "Order items",
        "minItems": 1,
        "items": {
          "type": "object",
          "required": ["name", "price", "quantity"],
          "properties": {
            "name": {"type": "string", "maxLength": 200},
            "description": {"type": "string", "maxLength": 500},
            "price": {"type": "number", "minimum": 0},
            "quantity": {"type": "number", "minimum": 1}
          }
        }
      },
      "shippingAddress": {
        "type": "object",
        "required": ["name", "address1", "city", "state", "zip", "country"],
        "properties": {
          "name": {"type": "string"},
          "address1": {"type": "string"},
          "address2": {"type": "string"},
          "city": {"type": "string"},
          "state": {"type": "string"},
          "zip": {"type": "string"},
          "country": {"type": "string"}
        }
      },
      "billingAddress": {
        "type": "object",
        "properties": {
          "name": {"type": "string"},
          "address1": {"type": "string"},
          "address2": {"type": "string"},
          "city": {"type": "string"},
          "state": {"type": "string"},
          "zip": {"type": "string"},
          "country": {"type": "string"}
        }
      },
      "paymentMethod": {
        "type": "object",
        "required": ["type", "lastFour"],
        "properties": {
          "type": {"type": "string", "enum": ["credit", "debit", "bank", "paypal"]},
          "lastFour": {"type": "string", "pattern": "^[0-9]{4}$"},
          "brand": {"type": "string"}
        }
      },
      "subtotal": {"type": "number", "minimum": 0},
      "shipping": {"type": "number", "minimum": 0},
      "tax": {"type": "number", "minimum": 0},
      "discount": {"type": "number", "minimum": 0},
      "total": {"type": "number", "minimum": 0},
      "currency": {"type": "string", "default": "USD"},
      "currencySymbol": {"type": "string", "default": "$"},
      "editLinks": {"type": "boolean"},
      "showBillingAddress": {"type": "boolean"}
    }
  },
  "defaultProps": {
    "heading": "Review your order",
    "items": [
      {
        "name": "Professional Plan",
        "description": "Annual subscription",
        "price": 299.99,
        "quantity": 1
      },
      {
        "name": "Premium Support",
        "description": "24/7 priority support",
        "price": 99.99,
        "quantity": 1
      }
    ],
    "shippingAddress": {
      "name": "John Doe",
      "address1": "123 Main Street",
      "address2": "Apt 4B",
      "city": "New York",
      "state": "NY",
      "zip": "10001",
      "country": "United States"
    },
    "billingAddress": null,
    "paymentMethod": {
      "type": "credit",
      "lastFour": "4242",
      "brand": "Visa"
    },
    "subtotal": 399.98,
    "shipping": 0,
    "tax": 32.00,
    "discount": 0,
    "total": 431.98,
    "currency": "USD",
    "currencySymbol": "$",
    "editLinks": true,
    "showBillingAddress": false
  },
  "slots": {
    "heading": {
      "type": "text",
      "label": "Page Heading",
      "required": true
    },
    "items": {
      "type": "collection",
      "label": "Order Items",
      "required": true,
      "itemLabel": "Item",
      "fields": [
        {"name": "name", "type": "text", "label": "Product Name", "required": true},
        {"name": "description", "type": "text", "label": "Description", "required": false},
        {"name": "price", "type": "number", "label": "Unit Price", "required": true},
        {"name": "quantity", "type": "number", "label": "Quantity", "required": true}
      ]
    },
    "shippingAddress": {
      "type": "address",
      "label": "Shipping Address",
      "required": true,
      "editable": true
    },
    "billingAddress": {
      "type": "address",
      "label": "Billing Address",
      "required": false,
      "editable": true
    },
    "paymentMethod": {
      "type": "payment",
      "label": "Payment Method",
      "required": true,
      "editable": true,
      "masked": true
    },
    "pricingSummary": {
      "type": "summary",
      "label": "Pricing Summary",
      "required": true,
      "calculated": true
    }
  },
  "layout": {
    "container": {"maxWidth": "md"},
    "grid": {
      "spacing": 3,
      "sections": ["items", "shipping", "payment", "summary"]
    }
  },
  "styling": {
    "heading": {
      "variant": "h5",
      "gutterBottom": true,
      "mb": 3
    },
    "sectionHeading": {
      "variant": "h6",
      "gutterBottom": true,
      "mb": 2
    },
    "paper": {
      "variant": "outlined",
      "sx": {"p": 3, "mb": 3}
    },
    "list": {
      "disablePadding": true
    },
    "listItem": {
      "py": 1,
      "px": 0
    },
    "itemName": {
      "variant": "subtitle1",
      "fontWeight": "medium"
    },
    "itemDescription": {
      "variant": "body2",
      "color": "text.secondary"
    },
    "itemPrice": {
      "variant": "body1"
    },
    "addressText": {
      "variant": "body2",
      "color": "text.primary"
    },
    "paymentText": {
      "variant": "body2",
      "fontFamily": "monospace"
    },
    "editLink": {
      "variant": "body2",
      "color": "primary.main",
      "sx": {"textDecoration": "underline", "cursor": "pointer"}
    },
    "divider": {
      "my": 2
    },
    "summaryRow": {
      "display": "flex",
      "justifyContent": "space-between",
      "py": 0.5
    },
    "summaryLabel": {
      "variant": "body2"
    },
    "summaryValue": {
      "variant": "body2",
      "fontWeight": "medium"
    },
    "totalRow": {
      "pt": 1,
      "borderTop": "1px solid",
      "borderColor": "divider"
    },
    "totalLabel": {
      "variant": "h6",
      "fontWeight": "bold"
    },
    "totalValue": {
      "variant": "h6",
      "fontWeight": "bold",
      "color": "primary.main"
    }
  },
  "interactions": {
    "editShipping": {
      "onClick": "navigateToShippingStep"
    },
    "editPayment": {
      "onClick": "navigateToPaymentStep"
    },
    "confirmOrder": {
      "onClick": "submitOrder"
    }
  },
  "accessibility": {
    "listRole": "list",
    "itemRole": "listitem",
    "ariaLabel": "Order review",
    "sectionLabels": ["Order Items", "Shipping Address", "Payment Method", "Order Summary"],
    "editButtonLabels": {
      "shipping": "Edit shipping address",
      "payment": "Edit payment method"
    }
  },
  "examples": [
    {
      "name": "Simple Review",
      "props": {
        "heading": "Confirm your purchase",
        "items": [
          {
            "name": "Premium Plan",
            "price": 49.99,
            "quantity": 1
          }
        ],
        "shippingAddress": {
          "name": "Jane Smith",
          "address1": "456 Oak Ave",
          "city": "San Francisco",
          "state": "CA",
          "zip": "94102",
          "country": "United States"
        },
        "paymentMethod": {
          "type": "credit",
          "lastFour": "1234",
          "brand": "Mastercard"
        },
        "subtotal": 49.99,
        "shipping": 0,
        "tax": 0,
        "total": 49.99,
        "editLinks": false
      }
    },
    {
      "name": "Full Review",
      "props": {
        "heading": "Please review before checkout",
        "items": [
          {
            "name": "Starter Plan",
            "description": "Monthly subscription",
            "price": 29.99,
            "quantity": 2
          },
          {
            "name": "Add-on Feature",
            "description": "Extra storage",
            "price": 9.99,
            "quantity": 1
          }
        ],
        "shippingAddress": {
          "name": "Bob Johnson",
          "address1": "789 Pine Blvd",
          "address2": "Suite 200",
          "city": "Austin",
          "state": "TX",
          "zip": "78701",
          "country": "United States"
        },
        "billingAddress": {
          "name": "Bob Johnson",
          "address1": "321 Elm Street",
          "city": "Dallas",
          "state": "TX",
          "zip": "75201",
          "country": "United States"
        },
        "paymentMethod": {
          "type": "debit",
          "lastFour": "5678",
          "brand": "Visa"
        },
        "subtotal": 69.97,
        "shipping": 5.00,
        "tax": 6.25,
        "discount": 10.00,
        "total": 71.22,
        "editLinks": true,
        "showBillingAddress": true
      }
    }
  ]
}
